# 操作系统毕业设计日报
## 2023.01.03
一:修改开题报告文档和ppt
## 2023.01.02
一：修改开题报告文档和ppt
## 2023.01.01
一：调研在no_std内核中进行单元测试的方法
## 2022.12.31
## 2022.12.30
一：参加每周例会

# 第十六周
## 2022.12.29
一：完成了开题报告文档  
## 2022.12.28
一：完成了开题报告ppt  
## 2022.12.27
## 2022.12.26
## 2022.12.25
## 2022.12.24
## 2022.12.23

# 第十五周
## 2022.12.22
一：看同步与互斥的代码。
## 2022.12.21
一：看文件系统的代码以及写注释
## 2022.12.20
运动十分钟
一：继续写代码
## 2022.12.19
运动10分钟  
一：尝试自己写代码。
## 2022.12.18
## 2022.12.17
## 2022.12.16
头疼加重了，并且不断的咳嗽。

# 第十四周
## 2022.12.15
开始流鼻涕，出现感冒的症状。
## 2022.12.14
头疼的厉害，在床上躺了一天。
## 2022.12.13
运动35分钟  
一：看了os5的代码。
## 2022.12.12
运动35分钟
## 2022.12.11
运动40分钟
一：看实验指导书以及代码。
## 2022.12.10
运动40分钟
## 2022.12.09
运动20分钟
一：修电脑键盘的问题。

# 第十三周
## 2022.12.08
运动35分钟
一：看了os4的剩下部分
## 2022.12.07
运动40分钟  
一：看到了os4地址空间的管理SV39多级页表的代码，并添加了注释。
## 2022.12.06
运动20分钟  
一：继续看代码。
## 2022.12.05
## 2022.12.04
运动15分钟
## 2022.12.03
运动30分钟  
## 2022.12.02
运动30分钟  
一：参加每周例会  
二：按照实验指导书看了os3的代码，并写了注释。还需要熟悉熟悉os2的trap切换特权级的部分。

# 第十二周
## 2022.12.01
运动25分钟  
一：根据rcore文档读os2的代码，写了详细的注释以及注释文档。
## 2022.11.30
运动15分钟  
没有学习。
## 2022.11.29
运动15分钟  
一：看了RISC-V的前两个学习视频。
## 2022.11.28
运动10分钟  
一：只看了代码3小时。
## 2022.11.27
运动20分钟  
休息一天
## 2022.11.26
运动20分钟  
一：看了应用程序与基本执行环境的内容以及代码，尝试写注释文档。  
二：解决双系统linux里/boot内存不足的问题。  
## 2022.11.25
运动15分钟  
一：参加了每周例会。  
二：解决了linux科学上网的问题。
  a. 在修改config.yaml文件内容时需要先将订阅链接用转换工具转换成clash用的短链接。
  b. 在下载Country.mmdb文件时最好用电脑下下来然后在复制到~/.config/clash中，直接下会失败，用windows里面的clash的Country.mmdb文件也会warning。
三：在linux里面配置好了实验环境。



# 第十一周
## 2022.11.24
运动15分钟  
一：解决了lab4和lab5的CI问题。  
二：安装双系统linux，并且在双系统linux里面配置实验环境。  

## 2022.11.23
运动15分钟  
一：看了学习文档的第八章并发与互斥。  
二：完成了第八章的代码。  
三：为了通过CI需要把python的version从3.8.10改为3.8.14  

## 2022.11.22
运动30分钟  
一：还是用回了codespace，修改文件系统的代码。

## 2022.11.21
运动20分钟  
一：继续写代码，发现电脑配置不行，Ubuntu里太卡了。

## 2022.11.20
运动30分钟  
一：写lab4文件系统代码

## 2022.11.19
运动30分钟  
一：解决了环境问题，应该是VPN的问题

## 2022.11.18
一：参加每周例会  
二：配置rCore实验环境



# 第十周
## 2022.11.17
慢跑7分钟  
一：看完了RUST程序设计语言。  
二：重新配置一个虚拟机。

## 2022.11.16
慢跑8分钟  
一：看了RUST程序设计语言的第十六章无畏并发。  
二：完成了毕业设计题目及任务。  

## 2022.11.15
慢跑8分钟  
一：看了RUST程序设计语言的第十五章15.3使用Drop Trait 运行清理代码。  
二：配置了实验虚拟机，发现太卡了。 

## 2022.11.14
慢跑7分钟  
一：看了RUST程序设计语言的第十章泛型，trait和生命周期。  
二：看了lab2地址空间的代码。 

## 2022.11.13
下雨了，没有慢跑  
一：在同学的帮助下，解决了lab1的问题，通过了测试。  
二：看了RUST程序设计语言到7.1包和crate。 

## 2022.11.12
慢跑7分钟  
一：修改lab1的代码，但是没有解决TCB里不能有太大的数组的问题，在issues上提问。  
二：写lab4文件系统的代码。  

## 2022.11.11
一：完成了lab3进程管理的学习心得。地址为https://github.com/shiwenlong12/Completion-Weekly/blob/main/reports/lab3-process.md   
二：看了rustlings的第三次课视频回放。  
三：写了lab1的实验代码。



## 第九周报告
### 本周工作总结
#### 2022.11.07
#### 2022.11.08
#### 2022.11.09
一：完成了lab2地址空间的学习心得。
#### 2022.11.10
一：lab3进程及进程管理完成了分离管理就绪进程和运行进程的数据结构。


## 第八周报告
### 本周工作总结：
#### 2022/10/31
一：文件系统学习心得写到第七节
#### 2022/11/1
一：lab4文件系统的学习心得写完了。  
二：rust语言圣经重新读到了2.14.格式化输出。  
三：lab1多道程序与分时多任务系统的学习心得写完了任务保存部分。地址为：https://github.com/shiwenlong12/Completion-Weekly/blob/main/reports/lab1-Multiprogramming.md  
四：研究了将GitHub的仓库克隆到VSCode中。
#### 2022/11/02
一：完成了lab1多道程序与分时多任务的学习心得。  
二：参加了rustlings的第一节课。  

#### 2022/11/03
一：lab2地址空间的学习心得写到了建立页与地址之间的转换关系。地址为：https://github.com/shiwenlong12/Completion-Weekly/blob/main/reports/lab2-address_space.md  
二：研究配置Windows上运行rustlings的环境。

#### 2022/11/04
一：写完了lab2地址空间的在三级页表结构中访问和创建虚拟页表的页表项。

#### 2022/11/05
一：lab2快写完了逻辑段与地址空间的构建  
二：参加了rustlings的第二节课  
#### 2022.11.06
一：身体不舒服，休息了一天

## 第七周报告
### 本周工作总结：
一：学习了ch6文件系统的代码讲解和练习解析视频，并且记录了主要的设计实现思路和方法作为学习心得，方便以后写毕业设计论文。地址为https://github.com/shiwenlong12/Completion-Weekly/blob/main/reports/lab4%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F.md  
### 下周工作目标：
一：写完ch6文件系统的学习心得。  
二：补上ch3多道程序与分时多任务,ch4地址空间,ch5进程及进程管理的学习心得。  
三：学习ch8同步互斥的视频讲解并写上学习心得。

## 第六周报告
### 本周工作总结：
  一：引入了进程的概念，不再通过硬编码来执行，而是通过加载elf数据的形式来执行。在task/processor.rs中增加了更新系统调用次数、得到系统调用次数、得到进程运行时间、设置优先级、申请内存、释放内存等函数。  
  二：在syscall/process.rs中实现了spawn函数，新建子进程，使其执行目标程序。spawn函数基本上就是fork函数和exec函数结合起来的，主要区别就是不像fork函数一样复制父进程的地址空间。  
  三：在task/manager.rs中实现了stride调度算法，计算方式是 P.stride = BigStride / P.priority,每次执行一个任务需要inner.pass += stride,然后再调度时选择pass最小的执行。因为priority当了分母，所以优先级越大stride就越小，进程就越先被调用。  
  四：完成了lab3的实验要求，地址为https://github.com/LearningOS/lab3-os5-shiwenlong12  
  五：学习了第六章文件系统与I/O重定向。  
### 下周工作目标：
  一：完成lab4和lab5的实验。

## 第五周报告
### 本周工作总结：
   一：经过和陈林峰同学的讨论，lab1的代码没有问题，是实验的配置问题，开始的问题需要将Cargo.toml的最后三行注释掉，任然有问题是因为为了能够完成实验环境的配置将rust-toolchain里的时间从04-11改为另了09-30，将时间改回04-11，就能够完成make test3,但是会上传失败Error: The process '/home/runner/.cargo/bin/cargo' failed with exit code 101。  
    二：在lab2中重写了sys_get_time和sys_task_info的代码，它们失效的原因是因为引入了虚拟内存的机制，ts和ti不是真正的物理地址而是虚拟地址，因此只需要添加一个地址转换就可以解决这两个函数失效的问题，通过get_refmut来实现虚拟地址到物理地址的转换，地址转换实际上就是查表。  
    三：增加了mmap和munmap两个系统调用于申请和释放内存，代码框架已经实现了MemorySet负责管理一个应用所获得的所有内存，因此只需要向MemorySet里新加入一个MapArea表示一段连续的内存，mmap需要检查起始地址对齐问题，对应地址是否有效，插入页表项后是否成功；munmap需要注意释放区域是否有效，释放后检查是否还在页表项内。  
    四：完成了lab2的实验要求，地址为https://github.com/LearningOS/lab2-os4-shiwenlong12  
    五：学习了第四章进程及进程管理。  

### 下周工作目标：
   一：完成lab3和lab4的实验。  


## 第四周报告
### 本周工作总结：
  一：在loadeer.rs中内核同时加载多个应用，在task子模块中进行任务管理，即协作式调度和抢占式调度；实现了多个任务分时轮流运行。  
  二：实现sys_task_info功能来获取当前任务的信息，在task子模块中task.rs的TaskControlBlock中添加syscall_times得到系统调用次数，添加start_time得到开始时间，在task子模块中mod.rs中先调用get_time_us得到开始时间，添加get_current_task得到当前任务的信息和increase_syscall_times设置系统调用的次数；并对外提供接口。在syscall子模块的process.rs中得到当前任务的状态、系统调用次数和总共运行时间。

### 下周工作目标：
一：继续完成上周未完成的任务。


## 第三周报告
### 本周工作总结：
一：在陈林峰同学的帮助下，修改rust_toolchain版本，解决了环境配置出错的问题。  
二：修改了/.github/workflows/classroom.yml中的toolchain，得到最新的工具链，解决了自动评分的问题。  
三：实现并分析了应用程序基本执行的源代码，地址为：https://github.com/LearningOS/lab0-0-setup-env-run-os1-shiwenlong12  
四：实现并分析了批处理系统的源代码，地址为：https://github.com/LearningOS/lab0-1-run-os2-shiwenlong12  
五：实现了部分多道程序与分时多任务的源代码，地址为：https://github.com/LearningOS/lab1-os3-shiwenlong12  

### 下周工作目标：
一：继续完成多道程序与分时多任务的源代码。  
二：完成地址空间的实现源代码。  


## 第二周报告
### 本周工作总结：
一：完成了rustlings练习，GitHub地址为：https://github.com/LearningOS/learn_rust_rustlings-shiwenlong12  
二：学习了B站里的Rust中文社区群线上学习室——通过Rustlings学习Rust,地址为 https://space.bilibili.com/24917186  
三：进行了实验环境的配置  

### 下周工作目标：
一：完成前三个kernel blabs 实践。
